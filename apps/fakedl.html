<!DOCTYPE html>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.0/axios.min.js"
	integrity="sha512-DZqqY3PiOvTP9HkjIWgjO6ouCbq+dxqWoJZ/Q+zPYNHmlnI2dQnbJ5bxAHpAMw+LXRm4D72EIRXzvcHQtE8/VQ=="
	crossorigin="anonymous"
></script>

<style>
	.content {
		max-width: 500px;
		margin: auto;
		text-align: center;
	}
	.footer {
		position: fixed;
		left: 0;
		bottom: 0;
		width: 100%;
	}
</style>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link
	rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
	integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w=="
	crossorigin="anonymous"
/>
<link
	rel="stylesheet"
	href="https://unpkg.com/sakura.css/css/sakura.css"
	type="text/css"
/>
<meta charset="UTF-8" />
<title>NPM Popularity Faker</title>
<link rel="stylesheet" href="index.css" />

<body>
	<script>
		//'https://registry.npmjs.org/js-adler/-/js-adler-1.0.0.tgz'

		function con1() {
			var i = 0;
			window.interval = setInterval(
				main,
				parseInt(document.getElementById("delay").value)
			);

			async function main() {
				await axios
					.get(
						"https://cors-anywhere.herokuapp.com/https://registry.npmjs.org/" +
							document.getElementById("msg").value +
							"/-/" +
							document.getElementById("msg").value +
							"-" +
							document.getElementById("version").value +
							".tgz"
					)
					.catch((error) => {
						throw error;
					});
				i++;
				document.getElementById("main2").innerHTML = i.toString();
			}
		}
	</script>
	<div class="content">
		<h1 class="h1">Hello!</h1>
		<p class="main">Please enter your package details!</p>
		<input type="text" id="msg" placeholder="Package name" />
		<input type="text" id="version" placeholder="Package Version" />
		<input type="text" id="delay" placeholder="Delay (MS)" /> <br />
		<input type="button" onclick="con1()" value="Download" id="button" />
		<input
			type="button"
			onclick="clearInterval(interval)"
			value="Cancel"
			id="button"
		/>
		<h2>Times downloaded:</h2>
		<h3 id="main2"></h3>

		<div class="footer">
			<p><a href="https://github.com/twotxh">Made with ðŸ’– by twotxh</a></p>
			<p>
				<small
					>Any input is allowed. Please ensure that it is the correct package
					and package version (format: 1.0.0) before beginning.</small
				>
			</p>
		</div>
	</div>
</body>
